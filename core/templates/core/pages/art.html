{% extends "core/extendables/base.html" %}

{% load static %}

{% block title %}{{ art.title }} by {{ art.artist.username }}{% endblock %}

{% block og %}
<meta property="og:title" content="{{ art.title }}" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.asciiforever.net{% url 'core:art' art.pk %}" />
<meta property="og:image" content="https://www.asciiforever.net{% url 'core:art_thumb' art.pk %}" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="628" />
<meta property="og:description" content="{% if art.description_preview %}{{ art.description_preview }}{% else %}Art by {{ art.artist }}{% endif %}" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="{{ art.title }}" />
<meta property="twitter:description" content="{% if art.description_preview %}{{ art.description_preview }}{% else %}Art by {{ art.artist }}{% endif %}" />
<meta property="twitter:image" content="https://www.asciiforever.net{% url 'core:art_thumb' art.pk %}" />
{% endblock %}

{% block path %}
<ul class="nav-bar {% if request.user != art.artist %}-final{% else %}-input{% endif %}">
    <li><a href="{% url 'core:index' %}" >home</a></li>
    <li><a href="{% url 'core:arts' %}" >art</a></li>
    <li><a href="{% url 'core:art' art.pk %}" >{{ art.pk }}</a></li>
    {% if request.user == art.artist %}
    <li>
        <div class="page-select">
            <button>-></button>
            <div class="pages">
                <a href="{% url 'core:edit_art' art.pk %}">edit</a>
            </div>
        </div>
    </li>
    {% endif %}
</ul>
{% endblock %}

{% block content %}
<div
    class="art-container"
    data-nsfw="{% if art.nsfw %}true{% else %}false{% endif %}">

    {% if art.nsfw %}
    <div class="nsfw-actions">
        <span>NSFW content</span>
        <button class="nsfw-show inline-button">Show</button>
    </div>
    {% endif %}

    <div class="art {% if art.nsfw %}-hide{% endif %}">
        <pre>{{ art.text }}</pre>
    </div>
</div>

{% include "core/includes/art_header.html" with art=art %}

{% if art.description %}
{{ art.description | linebreaks }}
{% endif %}

<p><i>Published {{ art.created_at|date:"d M Y" }}</i></p>

{% if request.user == art.artist %}
<p><a href="{% url 'core:edit_art' art.pk %}">Edit</a></p>
{% endif %}
{% endblock %}
