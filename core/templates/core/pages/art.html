{% extends "core/extendables/base.html" %}

{% load static %}

{% block title %}{{ art.title }} by {{ art.artist.username }}{% endblock %}

{% block og %}
<meta property="og:title" content="{{ art.title }}" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.asciiforever.net{% url 'core:art' art.pk %}" />
<meta property="og:image" content="https://www.asciiforever.net{% url 'core:art_thumb' art.pk %}" />
<meta property="og:image:width" content="1200"/>
<meta property="og:image:height" content="628"/>
<meta property="og:description" content="{% if art.description_preview %}{{ art.description_preview }}{% else %}Art by {{ art.user }}{% endif %}" />

<meta name="twitter:card" content="summary_large_image">
{% endblock %}

{% block path %}
<ul class="nav-bar">
    <li><a href="{% url 'core:index' %}" >home</a></li>
    <li><a href="{% url 'core:arts' %}" >art</a></li>
    <li>{{ art.pk }}</li>
</ul>
{% endblock %}

{% block content %}
<pre
    class="art {% if art.nsfw %}-blur{% endif %}"
    data-nsfw="{% if art.nsfw %}true{% else %}false{% endif %}">{{ art.text }}</pre>

{% include "core/includes/art_header.html" with art=art %}

{% if art.description %}
{{ art.description | linebreaks }}
{% endif %}

<p><i>Published {{ art.created_at|date:"d M Y" }}</i></p>

{% if request.user == art.artist %}
<p><a href="{% url 'core:edit_art' art.pk %}">Edit</a></p>
{% endif %}
{% endblock %}

{% block js %}
{% if request.user.is_authenticated %}
<script src="{% static 'core/js/like_art.js' %}"></script>
{% if request.user != art.artist %}
<script src="{% static 'core/js/follow_user.js' %}"></script>
{% endif %}
{% endif %}
{% endblock %}
